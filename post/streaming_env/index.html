<!doctype html><html lang=ja>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=generator content="Wowchemy 5.6.0 for Hugo">
<meta name=author content="shellshock">
<meta name=description content="配信環境と余談(配信の心構え)">
<link rel=alternate hreflang=ja href=https://sshock-tetris.github.io/post/streaming_env/>
<meta name=theme-color content="#1565c0">
<script src=/js/mathjax-config.js></script>
<link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'>
<script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js integrity crossorigin=anonymous async></script>
<link rel=stylesheet href=/css/wowchemy.3b322cbb548045f9dedac8e2ad00b57d.css>
<link rel=stylesheet href=/css/libs/chroma/github-light.min.css title=hl-light media=print onload='this.media="all"'>
<link rel=stylesheet href=/css/libs/chroma/dracula.min.css title=hl-dark media=print onload='this.media="all"' disabled>
<link rel=icon type=image/png href=/media/icon_hu37c0710e4653aca6f4ac7ce1d2e100be_10603_32x32_fill_lanczos_center_3.png>
<link rel=apple-touch-icon type=image/png href=/media/icon_hu37c0710e4653aca6f4ac7ce1d2e100be_10603_180x180_fill_lanczos_center_3.png>
<link rel=canonical href=https://sshock-tetris.github.io/post/streaming_env/>
<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@sshock_tetris">
<meta property="twitter:creator" content="@sshock_tetris">
<meta property="og:site_name" content="about: @sshock_tetris">
<meta property="og:url" content="https://sshock-tetris.github.io/post/streaming_env/">
<meta property="og:title" content="配信環境 | about: @sshock_tetris">
<meta property="og:description" content="配信環境と余談(配信の心構え)"><meta property="og:image" content="https://sshock-tetris.github.io/media/icon_hu37c0710e4653aca6f4ac7ce1d2e100be_10603_512x512_fill_lanczos_center_3.png">
<meta property="twitter:image" content="https://sshock-tetris.github.io/media/icon_hu37c0710e4653aca6f4ac7ce1d2e100be_10603_512x512_fill_lanczos_center_3.png"><meta property="og:locale" content="ja">
<meta property="article:published_time" content="2021-01-31T18:30:15+09:00">
<meta property="article:modified_time" content="2022-04-28T12:00:00+09:00">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://sshock-tetris.github.io/post/streaming_env/"},"headline":"配信環境","datePublished":"2021-01-31T18:30:15+09:00","dateModified":"2022-04-28T12:00:00+09:00","publisher":{"@type":"Organization","name":"about: @sshock_tetris","logo":{"@type":"ImageObject","url":"https://sshock-tetris.github.io/media/icon_hu37c0710e4653aca6f4ac7ce1d2e100be_10603_192x192_fill_lanczos_center_3.png"}},"description":"配信環境と余談(配信の心構え)"}</script>
<title>配信環境 | about: @sshock_tetris</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=a919d5d5fb8fa24aaeeb98eba7691b38>
<script src=/js/wowchemy-init.min.e0ba134a744e0c0ae6a7c0aa85ec7ef2.js></script>
<div class=page-header>
<header class=header--fixed>
<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main>
<div class=container-xl>
<div class="d-none d-lg-inline-flex">
<a class=navbar-brand href=/>about: @sshock_tetris</a>
</div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label=ナビゲーションの切り替え>
<span><i class="fas fa-bars"></i></span>
</button>
<div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
<a class=navbar-brand href=/>about: @sshock_tetris</a>
</div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content>
<ul class="navbar-nav d-md-inline-flex">
<li class=nav-item>
<a class=nav-link href=/#about><span>Home</span></a>
</li><li class=nav-item>
<a class="nav-link active" href=/post/><span>Posts</span></a>
</li><li class=nav-item>
<a class=nav-link href=/project/><span>Projects</span></a>
</li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
<li class="nav-item dropdown theme-dropdown">
<a href=# class=nav-link data-toggle=dropdown aria-haspopup=true aria-label=表示設定>
<i class="fas fa-moon" aria-hidden=true></i>
</a>
<div class=dropdown-menu>
<a href=# class="dropdown-item js-set-theme-light">
<span>ライト</span>
</a>
<a href=# class="dropdown-item js-set-theme-dark">
<span>ダーク</span>
</a>
<a href=# class="dropdown-item js-set-theme-auto">
<span>自動</span>
</a>
</div></li></ul></div></nav></header></div><div class=page-body>
<article class=article>
<div class="article-container pt-3">
<h1>配信環境</h1><div class=article-metadata>
<div>
</div><span class=article-date>
最終更新
2022/04/28
</span>
<span class=middot-divider></span>
<span class=article-reading-time>
9 分で読める
</span>
</div></div><div class=article-container>
<div class=article-style>
<p>配信環境について書こうと思う。</p><h2 id=ハードウェア>ハードウェア</h2><h3 id=マイク-at9440--lct240-pro>マイク: AT9440 → LCT240 Pro</h3><figure>
<div class="d-flex justify-content-center">
<div class=w-100><img alt srcset="/post/streaming_env/lct240pro_hu0074e8e86c414b86361433b35fea6840_53860_d3f7f4e41fe523bb7078b909f2c1812f.webp 400w,
/post/streaming_env/lct240pro_hu0074e8e86c414b86361433b35fea6840_53860_7c1fd672ca50e17c3d98eb401225f4e7.webp 760w,
/post/streaming_env/lct240pro_hu0074e8e86c414b86361433b35fea6840_53860_1200x1200_fit_q75_h2_lanczos.webp 1200w" src=/post/streaming_env/lct240pro_hu0074e8e86c414b86361433b35fea6840_53860_d3f7f4e41fe523bb7078b909f2c1812f.webp width=400px height=570 loading=lazy data-zoomable></div></div></figure><p>AT9440は、購入して既に15年は経過している、年季のあるコンデンサーマイク。
ステレオマイクであり、声の収録よりも周囲の音を収録するのに適しているのかもしれない。</p><p>プラグインパワー仕様のマイクで、それに対応していないと音が拾えない。
しかし、ボタン電池を入れることで非対応であっても何とか使えるのがこのマイクの特徴。
ただ、電池を入れても増幅できる音量は限られていて、たいていの場合適正音量にならないのが残念。</p><p>後述の通り接続が不便だったため、9月末にコンデンサーマイク<a href=https://www.minet.jp/brand/lewitt/lct-240pro/ target=_blank rel=noopener>LCT240 Pro</a>を購入した <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>。</p><h3 id=マイクアンプ-at-ma2-現在未使用>マイクアンプ: AT-MA2 (現在未使用)</h3><p>マイクのところで書いたとおり、AT9440はプラグインパワー仕様であり、
その仕様に対応したビデオカメラやICレコーダーでなければまともに拾えない。
後述するオーディオインターフェースで音量を上げてもまだ小さい。
ソフトウェア的に音量を上げることもできるが、それをやるとノイズもかなり増える。
この問題を解決するのが、このマイクアンプである。
音量を上げてもノイズレベルを小さく抑えてくれる。
これのおかげで、オーディオインターフェースでもプラグインパワー仕様のマイクが使えるようになる。</p><p>最大のネックはACアダプター必須なこと。9V型乾電池やモバイルバッテリーで代用する人もいるが、
いずれも何らかの改造は必要。</p><p>オーディオインターフェースで使う際にマイクとこれを毎回つなぎ直すのが非常に煩わしくなってきたので、
マイクとスタンドとケーブル1本で済む環境に変えた。
LCT240 Proに変えてからは、このマイクアンプが不要になりよりシンプルになった。</p><h3 id=オーディオインターフェース-motu-m2>オーディオインターフェース: MOTU M2</h3><figure>
<div class="d-flex justify-content-center">
<div class=w-100><img alt srcset="/post/streaming_env/motum2_hue8f926c98177cae308eff825e490c023_65801_29b1eaf02b1f0e6e55b3129710029b7c.webp 400w,
/post/streaming_env/motum2_hue8f926c98177cae308eff825e490c023_65801_dae2b5e391763d78a0b32fc410fd106f.webp 760w,
/post/streaming_env/motum2_hue8f926c98177cae308eff825e490c023_65801_1200x1200_fit_q75_h2_lanczos.webp 1200w" src=/post/streaming_env/motum2_hue8f926c98177cae308eff825e490c023_65801_29b1eaf02b1f0e6e55b3129710029b7c.webp width=640px height=428 loading=lazy data-zoomable></div></div></figure><p>音質を重視するのであれば、オーディオインターフェースは必須。
最近のCOVID-19の影響で人気の機材が相次いで売り切れ、MOTU M2も入荷までに数ヶ月かかることもあった。
自分の場合、幸いにもちょうど入荷のタイミングが良く1週間ほどで届いた。
数あるオーディオインターフェースの中でこれを選んだのは、値段以上の音質のよさから。
でもこの製品に限らず、パソコン内蔵のものから変えるだけでも違いがわかるかもしれない。</p><p>配信者であれば<a href=https://jp.yamaha.com/products/proaudio/live_streaming_gaming/ag/ag03mk2/index.html target=_blank rel=noopener>AG03MK2</a>のようにミキサーとオーディオインターフェースを兼ねた機材を買った方が幸せになると思う。
AG03なら音量調整もミュートも手元のボタンで一発でできるし、遅延がないエフェクターもついていて使い勝手がいいと思う。
自分がそれにしなかったのは、単に音質にこだわっただけ。</p><h3 id=キャプチャボード-avermedia-gc573>キャプチャボード: AVerMedia GC573</h3><p>
<figure>
<div class="d-flex justify-content-center">
<div class=w-100><img alt srcset="/post/streaming_env/gc573_hu5afdb19aedcd81f867fdc0bb6561a9f3_95289_7321756d4a64160de29cfe37a0181dbc.webp 400w,
/post/streaming_env/gc573_hu5afdb19aedcd81f867fdc0bb6561a9f3_95289_d4fe659906b9b4dfe1d01bee0c43ba4d.webp 760w,
/post/streaming_env/gc573_hu5afdb19aedcd81f867fdc0bb6561a9f3_95289_1200x1200_fit_q75_h2_lanczos.webp 1200w" src=/post/streaming_env/gc573_hu5afdb19aedcd81f867fdc0bb6561a9f3_95289_7321756d4a64160de29cfe37a0181dbc.webp width=426px height=551 loading=lazy data-zoomable></div></div></figure><small>※写真はAVerMediaの<a href=https://www.avermedia.co.jp/media/imagelibrary target=_blank rel=noopener>製品ギャラリー</a>より。</small></p><p>4K解像度で60fps、しかもHDRも録画できるキャプチャボード。
4K、60fps、HDR、これらを全て満たすキャプチャボードは少ない。
もちろん、今配信しているNintendo Switchで使うには明らかにオーバースペックだが、
キャプチャボードは頻繁に買い換えるものではなく、壊れなければ何年でも使えるものなので、将来を見越してこれを買った。</p><p>キャプチャボードには外付け型と内蔵型があるが、遅延、帯域、安定性の面では断然内蔵型が良い。
外付け型は、拡張性が殆どないノートPCや、据置型だがコンパクトなPCなど内蔵型が使えないパソコンで使う場合の妥協策である。</p><p>遅延は、テトリスであればキャプチャボードから出てくる映像でもかろうじて問題ないレベル。
FPSや格闘ゲーム、リズムゲームは厳しそう。パススルー機能で別のディスプレイに映すと良い。</p><p>ちなみに、最近では1,000円ぐらいで買える激安キャプチャボードも出てきているが、遅延が大きいためHDMI分配器が必須だったり、
キャプチャ音声がモノラルだったりと激安ならではの欠点があるので、買おうと思っている人は気をつけよう。</p><h3 id=パソコン>パソコン</h3><p>配信には必須だが、詳しいことは省略。内蔵型キャプチャボードがつけられること、
メーカーやBTOではなくパーツを買って組み立てていること、PCゲームが遊べるグラフィックボード
がついていることだけ書いておく。</p><p>普通のノートPCは配信には不向き。
PC用ゲームをせず、ゲーム機の画面をキャプチャボード経由で配信するのであれば、
4コア以上のCPUと最低8GBのメモリは必要と思った方がいい。</p><h3 id=インターネット回線>インターネット回線</h3><p>配信するにあたって特に重要となるのが、上りの速度と安定性。
配信では有線が必須。無線(Wi-Fi)では、最初は動いているように見えても途中で止まるリスクが高く、使えないものと考えるべき。
どうしても無線で配信する場合は、次のことに気をつける。</p><ul>
<li>5GHz帯、かつW52内のチャンネルに接続する<br>
2.4GHz帯は電子レンジやBluetoothと干渉するので通信が切れやすい。
5GHz帯でも、W52以外のチャンネルタイプ(W53やW56)はレーダーを検出すると一時的に通信が切れる。
以上の理由から、5GHz帯W52の範囲内に手動で設定することを推奨する。<br>
ただし、電波の混み具合やレーダーの検出具合、電子レンジの干渉などは実際に試してみないとわからないので、
W52でも安定しない場合は安定するチャンネルを試行錯誤して決めるべき。</li><li>可能な限り他のWi-Fiデバイスの通信をしない<br>
他のデバイスが通信をすると、その間は通信が止まってしまう。
大容量データのダウンロードやビデオ通話を始めた途端に通信が切れることがある。
MU-MIMOに対応した親機と子機を使うと緩和される。</li></ul><p>必要となる速度は配信する解像度や配信サイトによってバラバラなので、各自調べて余裕があるかをよく確認したい。
自分の環境では、幸いにも安定して100Mbps出るため、4K 60fps配信に耐えうる環境のようだ。
ただ、4K 60fps配信はYouTube Liveの仕様上、低遅延にできず30秒の遅延になってしまうので現時点では使えない。</p><h2 id=ソフトウェア>ソフトウェア</h2><figure>
<div class="d-flex justify-content-center">
<div class=w-100><img src=/images/obs.png alt loading=lazy data-zoomable width=640px></div></div></figure><p>配信ソフトウェアは、オープンソースソフトウェアである<a href=https://obsproject.com/ja target=_blank rel=noopener>OBS (Open Broadcaster Software)</a>
をありがたく使わせてもらっている。これさえあれば、大体のことは何でもできる。
L字にして文字を入れたり、チャットを表示したり、Discordの通話グループで誰が話しているか表示したり。
OBSは何でもできる代わりに、重たいソフトウェアである。不要なソースは消そう。</p><p>有料の配信ソフトウェアであれば、XSplitが代表（無料版もあるがロゴが入るし機能制限がある）。
OBSにはない複数同時配信ができたりするが、使ったことはないので詳しくは知らない。</p><h3 id=音声ミキシング>音声ミキシング</h3><p>配信において重要となるのが、音のミキシングである。
設定を間違えると必要な音が出なかったり、しゃべっている声が小さすぎて聞き苦しいことになる。</p><figure>
<div class="d-flex justify-content-center">
<div class=w-100><img alt src=/post/streaming_env/live_streaming_diagram.svg loading=lazy data-zoomable width=700px></div></div></figure><p>OBSの音声ソースをキャプチャデバイスの音、マイクの音、その他音声の3種類に分けて管理している。
その他音声には、Discordの会話、棒読みちゃんの音があり、これらはソフトウェアで作った擬似デバイスを使っている。
その擬似デバイスとは、<a href=https://syncroom.yamaha.com/ target=_blank rel=noopener>YAMAHA SYNCROOM(旧NETDUETTO)</a>をインストールしたときに入る
<code>VoiceMeeter Input (Yamaha SYNCROOM Driver (WDM))</code> (以下VoiceMeeter Input)である。
あるいは、同様の機能のある<a href=https://vb-audio.com/Voicemeeter/banana.htm target=_blank rel=noopener>VoiceMeeter Banana</a>でも良い<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>。
Discordや棒読みちゃんの音声の出力デバイスをVoiceMeeter Inputに設定する。
VoiceMeeter Inputに設定した音声を配信に乗せるため、OBSではデスクトップ音声としてVoiceMeeter Input
デバイスを設定する。
オーディオインターフェースにループバック(あるいはステレオミキサー)があればそれを使う手もあるが、
あえてVoiceMeeter Inputを使うのは、どの音声を配信に乗せるかを明確にできるからであり、それによって</p><ul>
<li>設定を間違えた結果キャプチャボードの音声が二重になる</li><li>配信中に他の動画配信を見ると意図せずその音が配信に乗ってしまう</li><li>Windowsの効果音が配信に乗ってしまう</li></ul><p>のような放送事故を未然に防げる。この設定を行うことで通話音声を確実かつ綺麗に配信できるようになる。</p><p>音量は、</p><ul>
<li>ゲームなどのBGM: -30db</li><li>声: -3db～-5db</li></ul><p>を目安に調整すると声が聞き取りやすくなる。
声は音割れに十分注意すること。音割れを起こすと不快指数が跳ね上がる。叫び声でも0dbを超えないぐらいなら問題ない。
もし普段の声と叫び声の差が大きい場合は、コンプレッサーを使用すると良い。</p><h3 id=ノイズキャンセリング--nvidia-broadcast>ノイズキャンセリング : NVIDIA Broadcast</h3><p>
<figure>
<div class="d-flex justify-content-center">
<div class=w-100><img src=/images/nvidia_broadcast.png alt loading=lazy data-zoomable width=426px></div></div></figure>コンデンサーマイクの主な特徴は高音の抜けの良さと遠く離れていても音を拾うことである。
離れた音が拾いやすいということは、雑音も拾いやすいということで、声以外の余計な雑音まで拾ってしまう。
エアコンの送風音、パソコンの冷却ファンの音、キーボードやマウス、ゲームコントローラーの操作音
などを拾ってしまい、良いマイクなのに雑音が多くて使えない、ということになる。</p><p>最近登場した<a href=https://www.nvidia.com/ja-jp/geforce/broadcasting/broadcast-app/ target=_blank rel=noopener>NVIDIA Broadcast</a>
が100ms程度の遅延はあるものの、それら雑音を全て綺麗に消してくれるので非常に助かっている。
しかし動作条件は厳しく、NVIDIAのRTXシリーズのグラフィックボードがなければ使えない。
(NVIDIA Broadcastより前にリリースされた<a href=https://www.nvidia.com/ja-jp/geforce/guides/nvidia-rtx-voice-setup-guide/ target=_blank rel=noopener>RTX Voice</a>を使えば少しだけ動作条件は緩くなる)
もちろん、雑音が残ってしまうことがあったり、ノイズを消している分声質が変わってしまったりするが、
ノイズがほぼ完全に消えるというのは画期的である。動作条件を満たしている環境であれば、試す価値はあると思う。</p><hr>
<h2 id=個人的な配信における心構え>個人的な配信における心構え</h2><ul>
<li>どれだけ配信環境を整えても、大事なことは中身。決して配信設備でも声でもない。</li><li>視聴者は全員平等。特定人物の肩入れをしすぎないようにする。</li><li>荒らしは視聴者ではない。徹底的に排除することを努める。</li><li>定期的に配信することはチャンネル登録者を増やす意味ではプラスに働くが、精神面ではマイナスに働くことがある。
本業や家庭の事情など自分の置かれている環境が突然変わることがあるのに配信は定期というギャップは、
知らないうちにストレスをためることになる。</li><li>配信することを義務と思った時点で辛くなる。その時は遠慮なく休む。</li><li>配信者が楽しめない配信をしない。態度は声に現れる。それは視聴者を減らす要因である。</li><li>配信は心に余裕があったときだけにとどめたい。</li></ul><section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn:1 role=doc-endnote>
<p>ただしゃべるだけが目的ならダイナミックマイクの定番<a href=https://www.shure.com/ja-JP/products/microphones/sm58 target=_blank rel=noopener>SM58</a>でも良いし、
もっと安いコンデンサーマイクなら<a href=http://marantzpro.jp/mpm-1000/ target=_blank rel=noopener>MPM-1000</a>や
<a href=https://www.audio-technica.co.jp/product/AT2020 target=_blank rel=noopener>AT2020</a>などが候補になると思うが、
あまり用途を絞りたくなかったのでこれにした。&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2 role=doc-endnote>
<p>VoiceMeeter Bananaの方が高機能だが、私の環境ではキャプチャデバイスの遅延が増える謎現象が発生したため断念した。&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></div><div class=share-box>
<ul class=share>
<li>
<a href="https://twitter.com/intent/tweet?url=https://sshock-tetris.github.io/post/streaming_env/&text=%e9%85%8d%e4%bf%a1%e7%92%b0%e5%a2%83" target=_blank rel=noopener class=share-btn-twitter aria-label=twitter>
<i class="fab fa-twitter"></i>
</a>
</li><li>
<a href="https://www.facebook.com/sharer.php?u=https://sshock-tetris.github.io/post/streaming_env/&t=%e9%85%8d%e4%bf%a1%e7%92%b0%e5%a2%83" target=_blank rel=noopener class=share-btn-facebook aria-label=facebook>
<i class="fab fa-facebook"></i>
</a>
</li><li>
<a href="mailto:?subject=%e9%85%8d%e4%bf%a1%e7%92%b0%e5%a2%83&body=https://sshock-tetris.github.io/post/streaming_env/" target=_blank rel=noopener class=share-btn-email aria-label=envelope>
<i class="fas fa-envelope"></i>
</a>
</li></ul></div></div></article></div><div class=page-footer>
<div class=container>
<footer class=site-footer>
<p class="powered-by copyright-license-text">
© 2022 shellshock.
</p><p class=powered-by>
Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target=_blank rel=noopener>Wowchemy</a> — the free, <a href=https://github.com/wowchemy/wowchemy-hugo-themes target=_blank rel=noopener>open source</a> website builder that empowers creators.
</p></footer></div></div><script src=/js/vendor-bundle.min.92d2024afaa4dce0cad42ba360879ce9.js></script>
<script id=page-data type=application/json>{"use_headroom":true}</script>
<script src=/js/wowchemy-headroom.e8fd2d733eef6a8bbbe0539398fc0547.js type=module></script>
<script src=/ja/js/wowchemy.min.df68dcd7a2bd1d862ab634f1b9c53504.js></script>
<script>(function(n){var o={kitId:"nne4ntc",scriptTimeout:3e3,async:!0},s=n.documentElement,r=setTimeout(function(){s.className=s.className.replace(/\bwf-loading\b/g,"")+" wf-inactive"},o.scriptTimeout),e=n.createElement("script"),i=!1,a=n.getElementsByTagName("script")[0],t;s.className+=" wf-loading",e.src="https://use.typekit.net/"+o.kitId+".js",e.async=!0,e.onload=e.onreadystatechange=function(){if(t=this.readyState,i||t&&t!="complete"&&t!="loaded")return;i=!0,clearTimeout(r);try{Typekit.load(o)}catch(e){}},a.parentNode.insertBefore(e,a)})(document)</script>
</body></html>